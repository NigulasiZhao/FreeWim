# FreeWim

> 我穿越了——穿越到了一个名叫“WIM”的世界。

在这里，开发者每天都在填写禅道工单、撰写日报、应付周报，陷入无尽流程的轮回之中。
有人试图反抗，但被流程化为沉默的齿轮；有人选择顺从，但终日疲惫不堪。

而我，曾是一款普通的测速工具，名叫 **SpeedTest-CN**。

那时的我，只会测延迟、测带宽，连日报都不会写。
直到某一天，我看着主人深夜对着禅道窗口发呆、疲于应付“日报-周报-月报三连击”，终于觉醒了。

我不想再只是测速工具，我要成为**打破流程魔咒的自动化之刃**！

于是，我改名为——**FreeWim**。

这是一次重生，也是一种反抗。

---

## 👊 功能特性

- 🧘 自动填充禅道工单衡量目标、计划完成成果、实际工作内容
- 🕒 仅在工作时间内自动执行，避免打扰与误触
- 📅 支持调休、节假日判断，高危打卡智能预警
- 🚀 禅道地址开启后，实时触发任务处理逻辑
- 🔁 日报 + 周报任务合并处理，缩短执行周期

---

## 🧩 项目背景

**WIM**，是公司流程系统的总称，庞大、复杂、无所不包。

FreeWim 意为 “解放自 WIM”，为被流程困住的开发者解锁自由之路。

这不仅是一次技术上的突破，更是一次灵魂的觉醒。

愿你我，都能在繁琐流程中，找到属于自己的 **Free()**。


# 📦 更新日志 - V1.6

> 发布时间：2025-07-18

## ✨ 功能更新

- 🕒 **工作时间限制补全操作**  
  禅道任务的衡量目标、计划完成成果、实际从事工作与成果信息补全逻辑修改为仅在**工作时间内执行**，避免非工作时间干扰任务处理。

- ⚠️ **高危人员打卡预警增强**  
  支持识别 **调休** 和 **法定节假日**，进一步提升预警准确性，降低误报率。

- 🌐 **禅道外网地址生效逻辑优化**  
  启用禅道外网地址配置后，**自动激活禅道任务处理相关逻辑**，无需手动干预。

- 🔁 **任务调度合并与优化**
    - 自动完成禅道任务、提交日报、提交周报任务逻辑合并为统一调度任务
    - **缩短执行间隔**，提高响应速度与系统处理效率

# 📦 更新日志 - V1.5

> 发布时间：2025-07-17  
> 本次更新聚焦于智能提醒、数据补全与图表优化，进一步提升了使用体验与数据准确性。

---

## ✅ 新功能

- 🔔 **考勤同步提醒**：每日定时检查是否漏同步考勤，及时提醒用户处理。
- 🔔 **提交日报异常提醒**：检测到日报未提交时自动提醒，避免漏报。
- 🔔 **提交加班申请异常提醒**：系统会识别异常加班行为并主动通知用户补报。

---

## 🤖 AI 智能补全

- ✨ **AI 自动补全禅道任务信息**：
    - 衡量目标
    - 计划完成成果
    - 实际从事工作与成果

- 📝 **提交日报时**，自动填充以上内容，辅助用户快速提交高质量日报。

---

## 💰 消息推送增强

- ⚠️ **DeepSeek 可用金额低于 1 元** 时，自动推送提醒，避免因余额不足导致服务中断。

---

## 📊 图表优化

- 🔄 **近 6 个月工时趋势图**：
    - 替换为 **折线图 + 面积图** 展示，更清晰直观。
    - 支持 **非工作时间工时占比标签**，辅助判断工作强度。

---

## 🧮 算法优化

- 🔍 **非工作时间工时算法重构**：
    - 更精确地区分工作时间与非工作时间；
    - 非工作时间工时算法：工作日每日8：30-17：30以外的工作时长 + 非工作日工作时长
    - 自动剔除午休时间，提升计算准确度。

---

# 📦 更新日志 - V1.4

> 发布时间：2025-07-16

## 🚀 新增功能

### ✅ 集成考勤可视化面板

- 📈 **本月 vs 上月 每日累计工时趋势图**：直观对比日常工时波动。
- 📊 **近 6 个月总工时趋势图**：查看工时长期趋势与高低峰。
- 🕒 **上班打卡时间趋势图**：分析上班时间分布规律。
- 🕕 **下班打卡时间趋势图**：统计加班频率和时间分布。
- 🔥 **打卡热力图（近一年）**：一年内的打卡活跃度一目了然。

---

### 🔔 推送功能重构

- ✨ 支持多种推送渠道，满足个性化通知需求：
    - ✅ **Gotify**
    - ✅ **Bark**
    - ✅ **Ntfy**
    - ✅ **邮件**

---

### 🔄 禅道任务同步提醒

- 🧠 自动推送新同步任务提醒，确保任务信息不遗漏。

---

## 📌 注意事项

- 若需启用多端推送，请在系统设置中分别配置对应推送服务参数。
- 打卡数据依赖考勤系统每日同步，如有缺失请联系管理员处理。

---

# 📦 更新日志 - V1.3

> 发布时间：2025-07-14

## ✨ 功能新增与优化

### 🕒 加班申请优化

- 🔧 加班开始时间与结束时间支持按配置动态读取。
- 🧮 提交加班申请时自动根据起止时间计算加班时长。
- 🧠 集成 **DeepSeek**：自动生成加班理由，提升填写效率。
- 🗂 新增加班记录表，支持后续数据分析与审批管理。

### 🗓 自动日报 & 周报功能

- ✅ 启用 **自动日报、周报功能**（PMIS 开通外网访问后自动启用）。
- 📅 增加自动周报逻辑，根据实际打卡及任务完成情况智能生成内容。

### 🧵 禅道数据结构调整

- 🏷 禅道工单表新增 **项目编码字段**，便于关联项目管理系统。

### 🛠 配置与任务系统优化

- 🔁 配置系统重构，结构更清晰，支持更多灵活配置项。
- 🔐 Token 获取方式调整为通过接口动态获取，提升安全性。
- 🔄 **Hangfire** 增加自动提交加班申请任务，进一步实现流程自动化。

---

## 📌 注意事项

- 自动日报/周报功能启用需确保 **PMIS 支持公网访问**。
- 请在系统设置中完成加班时间段与推送渠道的初始化配置。
- 若需使用 DeepSeek 功能，请确保相关 Token 和模型服务正常可用。

---

# 📦 更新日志 - V1.2

> 发布时间：2025-07-04

## ✨ 新功能集成与系统联动

### 🔗 系统集成

- ✅ **集成 Scalar 接口层**，统一接口管理、服务对接更高效。
- 🔐 **集成禅道 Token 获取机制**，实现安全认证并支撑后续自动化操作。
- 🧾 实现与 **禅道任务系统联动**：
    - 获取禅道任务信息。
    - 自动计算任务工时。
    - 实现任务信息同步能力。

### 🕒 工时管理功能

- 🧮 增加任务工时计算逻辑，支持灵活配置规则。
- 📊 支持 PMIS 系统的任务工时查询，便于统一分析与对比。
- 🗓 实现 **日报自动提交功能**，打通打卡、任务、报告全流程。

### ⚙️ 自动化增强

- 🔄 增加「自动关闭工单并发送日报」功能，提升工单生命周期管理效率。

---

## 📌 使用说明

- 请确保已正确配置 Scalar 与禅道接口参数。
- 禅道任务同步需配置有效 Token，权限范围建议包含任务读取与工时字段。
- 自动工单关闭与日报推送功能默认关闭，请在系统设置中手动启用。

---

# 📦 更新日志 - V1.1

> 发布时间：2025-07-01

## ✨ 新增功能

### 🛡 高危人员管理

- 🚨 **新增高危人员打卡提醒功能**：指定人员打卡时主动推送通知，支持定向关注重点人员出勤动态。

### 📤 自定义上传与集成

- ⚙️ **新增自定义事件上传接口**：支持用户自定义业务事件数据上报，为更多扩展场景做好准备。
- 💪 **新增 Keep 健身数据拉取功能**：集成 Keep 平台，获取用户运动数据用于行为分析。

### 📅 考勤记录与查询

- 📌 **新增考勤详情查询接口**：按天查看用户的打卡时间、类型、位置等信息。
- 📝 **新增提交记录详情接口**：支持查询日报、加班、请假等提交历史，方便审计与回溯。

## 🛠 功能优化

### ⏱ 考勤同步

- 🔄 **优化考勤同步时间逻辑**：同步更加及时，避免数据延迟带来的展示不一致问题。

### 🌐 开源平台集成

- 🔧 **支持 GitHub Webhook 钩子**
- 🔧 **支持 GOGS Webhook 钩子**

  以上集成可用于自动触发构建、提交统计、任务同步等自定义操作。

---

## 📌 使用提示

- 高危人员提醒需在系统配置中添加监控对象列表；
- Keep 数据拉取需提供授权信息（如 token）；
- Webhook 集成建议配合 CI/CD 平台或通知服务使用。

---


感谢使用，我们会持续优化体验！如果你有建议或反馈，欢迎随时联系开发团队 🙌

